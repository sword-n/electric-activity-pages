<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>京东(JD.COM)-正品低价、品质保障、配送及时、轻松购物！</title>
    <meta name="description" content="京东工业旗下业务:售电,碳中和需求收集" />
    <meta name="Keywords" content="碳中和,售电,工业品" />
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link
      rel="icon"
      href="//www.jd.com/favicon.ico"
      mce_href="//www.jd.com/favicon.ico"
      type="image/x-icon"
    />
    <title>碳中和平台表单收集</title>
  </head>
  <body>
    <div id="root">
      <div class="header">
        <div class="banner">
          
        </div>
      </div>
      <div class="content">
        
        <div class="Pop-layer" >
          <!-- enctype="application/x-www-form-urlencoded" -->
          <!-- enctype="multipart/formdata" -->
          <form
            action="//uniplat.jd.com/v1/contact/add"
            method="POST"
            onsubmit="return false"
            id="formReport"
          >
            <input class="input" type="hidden" name="type" value="1" />
            <div class="form-item">
              <span class="form-item-label required">姓名</span>
              <input
                required
                class="input"
                type="text"
                name="name"
                placeholder="请输入您的姓名，2～5个字符"
                maxlength="5"
              />
            </div>
            <div class="form-item">
              <span class="form-item-label required">公司</span>
              <input
                required
                class="input"
                type="text"
                name="company"
                placeholder="请输入公司名称，不能超过30个字符"
                maxlength="30"
              />
            </div>
            <div class="form-item">
              <span class="form-item-label required">联系方式</span>
              <input
                required
                class="input"
                type="text"
                name="mobile"
                placeholder="请填写可以联系到您的手机号码"
                maxlength="11"
              />
            </div>
            <div class="form-item">
              <span class="form-item-label">备注</span>
              <textarea
                class="input"
                name="remark"
                placeholder="请输入内容"
                maxlength="100"
                rows="4"
              ></textarea>
            </div>
            <div class="form-item">
              <span class="form-item-label"></span>
              <button class="btn btn-submit">提交</button>
              <button class="btn btn-cancel">取消</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script>
      function init() {
        let _queryTypeId = window.location.search?.type;
      }
      $(".btn-submit").click((e) => {
        var data = {
          type: 1, // 售电
          name: $('[name="name"]').val(),
          company: $('[name="company"]').val(),
          mobile: $('[name="mobile"]').val(),
          remark: $('[name="remark"]').val(),
        };

        $.ajax({
          type: "POST",
          url: "https://uniplat.jd.com/v1/contact/add",
          contentType: "application/json;charset=utf-8",
          data : JSON.stringify(data),
          success: function (e) {
            console.log(e);
            if(e.code  == '200'){
              alert('提交成功')
            }else{
              alert(e.msg || '请求异常')
            }
          },
        });
      });
      $(".btn-cancel").click((e) => {
        console.log(e);
        console.log("cancel");
        e.stopPropagation();
      });
    </script>
  </body>
</html>
